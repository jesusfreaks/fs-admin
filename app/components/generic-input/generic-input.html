<div class="form-group generic-input" ng-repeat="def in definitions">

    <div class="col-sm-12">

        <label for="{{(language|langRef)}}_{{def.name}}" ng-if="def.type!=='empty'">{{ ($parent.prefix +'.' + def.name) |translate}} <span ng-if="def.required">*</span></label>

        <span ng-if="def.type=='text'">

            <input ng-if="def.translatable" type="text"
                   id="{{(language|langRef)}}_{{def.name}}"
                   ng-required="def.required"
                   ng-model="instance[(language|langRef)][def.name]"
                   ng-maxlength="def.maxLength"
                    class="form-control">

            <input ng-if="!def.translatable" type="text"
                   id="{{(language|langRef)}}_{{def.name}}"
                   ng-required="def.required"
                   ng-model="instance[def.name]"
                   ng-maxlength="def.maxLength"
                   class="form-control">
        </span>

        <span ng-if="def.type=='textarea'">
            <textarea ng-if="def.translatable"
                      id="{{(language|langRef)}}_{{def.name}}"
                      ng-model="instance[(language|langRef)][def.name]"
                      ng-required="def.required"
                      ng-maxlength="def.maxLength"
                      rows="10"
                      class="form-control"></textarea>

            <textarea ng-if="!def.translatable"
                      id="{{(language|langRef)}}_{{def.name}}"
                      ng-model="instance[def.name]"
                      ng-required="def.required"
                      ng-maxlength="def.maxLength"
                      rows="10"
                      class="form-control"></textarea>
        </span>

        <span ng-if="def.type=='tags'">
                <tags-input class="" ng-if="def.translatable"
                            ng-model="instance[(language|langRef)][def.name]" tolist=""
                           ></tags-input>

                <tags-input class="" ng-if="!def.translatable"
                            ng-model="instance[def.name]"  tolist="" ></tags-input>
        </span>
        <span ng-if="def.type=='epmty'">
        </span>

        <span ng-if="def.type=='image'">
            <img ng-if="instance[def.name]||def.isList" style="max-height:200px;" ng-repeat="url in instance[def.name]" ng-src="{{url}}">
             <input type="file" img-cropper-fileread image="def.opts.sourceImage" ng-if="!instance[def.name]||def.isList"/>
             <div ng-if="def.opts.sourceImage">

                 <canvas width="500" height="300" id="canvas"
                         image-cropper image="def.opts.sourceImage"
                         cropped-image="def.opts.croppedImage"
                         crop-width="def.opts.width"
                         crop-height="def.opts.height"
                         keep-aspect="def.opts.keepAspect"
                         touch-radius="def.opts.touchRadius"
                         crop-area-bounds="def.opts.bounds">
                 </canvas>
                 <div>Cropped Image (Left: {{def.opts.bounds.left}} Right: {{def.opts.bounds.right}} Top: {{def.opts.bounds.top}} Bottom: {{def.opts.bounds.bottom}})</div>
                 <div ng-show="def.opts.croppedImage!=null"><img ng-src="{{def.opts.croppedImage}}" /></div>
                 <a ng-click="def.opts.ok(instance)">OK</a><a ng-click="def.opts.cancel()" >cancel</a>
            </div>

        </span>
    </div>
</div>
